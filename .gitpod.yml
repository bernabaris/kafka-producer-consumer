# This configuration file was automatically generated by Gitpod.
# Please adjust to your needs (see https://www.gitpod.io/docs/introduction/learn-gitpod/gitpod-yaml)
# and commit this file to your remote git repository to share the goodness with others.

# Learn more from ready-to-use templates: https://www.gitpod.io/docs/introduction/getting-started/quickstart

tasks:
  - init: |
      (
        sdk default java 17.0.7.fx-zulu 
        mvn clean install -DskipTests=false && pip install -r requirements.txt
        cd consumer
        docker build -t consumer:1.0-SNAPSHOT . && cd ..
        cd producer
        docker build -t producer:1.0-SNAPSHOT . && cd ..
        cd compose/kafka/
        docker-compose up -d
        cd ..
        cd mongodb
        docker-compose up -d
        cd ../..
        python3 mongodb_doc_gen.py
        cd producer/src/main/java/com/github/bernabaris/
        javac ProducerApp.java
        cd ~/workspace/kafka-producer-consumer/consumer/src/main/java/com/github/bernabaris
        javac ConsumerApp.java
      )
    






